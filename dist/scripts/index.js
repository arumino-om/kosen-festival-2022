(()=>{"use strict";var t={644:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonFunc=void 0,e.ButtonFunc=class{static postButton(t){t.show()}static goUpButton(){window.scrollTo(0,0)}static goDownButton(){window.scrollTo(0,window.innerHeight)}}},684:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Dialog=void 0,e.Dialog=class{constructor(t){this.target_elm=t}show(){this.target_elm.classList.add("dialog-show")}close(){this.target_elm.classList.remove("dialog-show")}}},129:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PostManager=void 0,e.PostManager=class{constructor(){this.postContents=[],this.postView=document.getElementById("posts"),this.fixedPost={name:"##Administrator##",datetime:new Date,content:"ようこそ Nyan^chat へ\n    このプログラムは、伝言板のようにローカル内で自由に文字を投稿できるプログラムです。みなさんも「＋」ボタンから自由に投稿してみてください。\n    \n\n    ご利用になる前に、以下の事項に同意ください。\n    (1) 基本的に、何でも投稿して構いません。誰かへのメッセージでもいいし、書き置きしてもいいし、何らかの宣伝をしても構いません。\n    (2) ただし、下ネタや誹謗中傷等、不適切な投稿は行わないでください。酷い場合は新規投稿を禁じる可能性があります。\n    (3) 500字を超える投稿はできません。\n    (4) 1002スレを超えると自動で全削除されます。\n    (5) # は通常使用できません。使用できるのは管理者のみです。\n    (6) 名前を自由に設定できる関係上、偽造等が行われる可能性があります。だからここに書いてることはあまり信用しないほうがいいかも\n    "},this.postContents.push(this.fixedPost),window.postmgr=this}addPost(t,e,n){if(""==e||e.length>500)return!1;if(""==t&&(t="名無しの逸般高専生"),this.postContents.length>1001){this.postContents=[],this.postContents.push(this.fixedPost);let t={name:"##SYSTEM##",content:"1002スレ超えたため、自動で削除されました。",datetime:new Date};this.postContents.push(t),this.reRenderToUI()}n||(t=(t=t.replace(/#/g,"?")).replace(/＃/g,"？"));let o={name:t,datetime:new Date,content:e};return this.postContents.push(o),this.appendToUI(o),!0}removePost(t){this.postContents.splice(t-1,1),this.reRenderToUI()}reRenderToUI(){let t=this.postContents;this.postContents=[],this.postView.innerHTML="",t.forEach((t=>{this.postContents.push(t),this.appendToUI(t)}))}appendToUI(t){let e=this.convertNormalString2HTMLString(t.content),n=`\n    <div class="post-data">\n      <p class="post-from">${this.postContents.length}. ${t.name} - ${t.datetime.toDateString()}</p>\n      ${e}\n    </div>\n    `,o=this.postView.innerHTML;this.postView.innerHTML=n+o}convertNormalString2HTMLString(t){let e=t.split("\n"),n="";return e.forEach((t=>{""==t?n+="<br>":n=n+"<p>"+t+"</p>"})),n}}}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}(()=>{const t=n(644),e=n(684),o=n(129);window.onload=()=>{let n=document.getElementById("top-button"),s=document.getElementById("bottom-button"),i=document.getElementById("post-button"),l=document.getElementById("post-submit-button"),r=document.getElementById("post-cancel-button"),a=new e.Dialog(document.getElementById("post-dialog")),d=new o.PostManager,c=document.getElementById("post-input-name"),u=document.getElementById("post-input-content");null==n||n.addEventListener("click",(()=>{t.ButtonFunc.goUpButton()})),null==s||s.addEventListener("click",(()=>{t.ButtonFunc.goDownButton()})),null==i||i.addEventListener("click",(()=>{a.show()})),null==l||l.addEventListener("click",(()=>{d.addPost(c.value,u.value,!1)&&(c.value="",u.value="",a.close())})),null==r||r.addEventListener("click",(()=>{a.close()})),d.reRenderToUI()}})()})();